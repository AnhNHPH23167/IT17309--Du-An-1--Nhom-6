CREATE DATABASE QuanLyBanQuanAo
USE QuanLyBanQuanAo
GO

CREATE TABLE TaiKhoan(
TaiKhoan NVARCHAR(30) PRIMARY KEY,
Matkhau NVARCHAR(30),
)
INSERT INTO TaiKhoan VALUES('ADMIN', '@12345')
INSERT INTO TaiKhoan VALUES('EMPLOYEE', '229878')


CREATE TABLE LoaiSP(
MaLoaiSP VARCHAR(20) PRIMARY KEY,
TenLoaiSP NVARCHAR(30),
)
INSERT INTO LoaiSP VALUES('001', 'Áo khoác')
INSERT INTO LoaiSP VALUES('002', 'Quần dài')

CREATE TABLE ChatLieu(
MaChatLieu VARCHAR(20) PRIMARY KEY,
TenChatLieu NVARCHAR(20)
)
INSERT INTO ChatLieu VALUES('001', 'Vải cotton')
INSERT INTO ChatLieu VALUES('002', 'Vải len')

CREATE TABLE MauSac(
MaMauSac VARCHAR(20) PRIMARY KEY,
TenMauSac NVARCHAR(20)
)
INSERT INTO MauSac VALUES('001', 'Màu trắng')
INSERT INTO MauSac VALUES('002', 'Màu đen')

CREATE TABLE Size(
MaSize VARCHAR(20) PRIMARY KEY,
TenSize VARCHAR(10)
)
INSERT INTO Size VALUES('001', 'X')
INSERT INTO Size VALUES('002', 'XL')
INSERT INTO Size VALUES('003', 'XXL')
INSERT INTO Size VALUES('004', 'XXXL')

CREATE TABLE SanPham(
MaSanPham VARCHAR(20) PRIMARY KEY,
TenSanPham NVARCHAR(20)
)
INSERT INTO SanPham VALUES('001', 'Quần jogger')
INSERT INTO SanPham VALUES('002', 'Áo phao')

CREATE TABLE NhanVien(
MaNhanVien VARCHAR(20) PRIMARY KEY,
Ho NVARCHAR(20),
TenDem NVARCHAR(20),
Ten NVARCHAR(20),
SDT INT,
ChucVu NVARCHAR(20),
DiaChi NVARCHAR(50),
TrangThai INT
)
INSERT INTO NhanVien VALUES('001', 'Đào', 'Thị', 'Ngọc', '0389976312', 'Nhân viên bán hàng', 'Hà Nội', 0)
INSERT INTO NhanVien VALUES('002', 'Hải', 'Nam', 'Đức', '0176657446', 'Nhân viên bán hàng', 'Hải Phòng', 1)

CREATE TABLE ChiTietSanPham(
MaCTSP VARCHAR(20) PRIMARY KEY,
MaLoaiSP VARCHAR(20) FOREIGN KEY REFERENCES LoaiSP(MaLoaiSP),
MaChatLieu VARCHAR(20) FOREIGN KEY REFERENCES ChatLieu(MaChatLieu),
MaMauSac VARCHAR(20) FOREIGN KEY REFERENCES MauSac(MaMauSac),
MaSize VARCHAR(20) FOREIGN KEY REFERENCES Size(MaSize),
MaSanPham VARCHAR(20)FOREIGN KEY REFERENCES SanPham(MaSanPham),
SoLuong INT,
Mota INT,
GiaBan DECIMAL(10, 2),
TrangThai INT
)
INSERT INTO ChiTietSanPham VALUES('001', '001', '001', '001', '001', '001', 1, 0, 250000, 0)
INSERT INTO ChiTietSanPham VALUES('002', '002', '002', '002', '002', '002', 1, 0, 300000, 1)

CREATE TABLE HoaDon(
MaHoaDon VARCHAR(20) PRIMARY KEY,
MaNhanVien VARCHAR(20) FOREIGN KEY REFERENCES NhanVien(MaNhanVien),
NgayTao DATE,
NgayThanhToan DATE,
ThanhTien DECIMAL(10, 2),
SDTKH INT,
DiaChi NVARCHAR(50),
TrangThai INT
)
INSERT INTO HoaDon VALUES('001', '001', '2019-10-16', '2019-10-16', 250000, 0383477676, 'Hà Nội', 0)
INSERT INTO HoaDon VALUES('002', '002', '2019-9-17', '2019-9-20', 300000, 0993323765, 'Hà Nội', 0)

CREATE TABLE HoaDonChiTiet(
MaHoaDon VARCHAR(20) FOREIGN KEY REFERENCES HoaDon(MaHoaDon),
MaCTSP VARCHAR(20) FOREIGN KEY REFERENCES ChiTietSanPham(MaCTSP),
MaSanPham VARCHAR(20) FOREIGN KEY REFERENCES SanPham(MaSanPham),
TenSanPham NVARCHAR(20),
SoLuong INT,
TenSize VARCHAR(10), 
DonGia DECIMAL,
TrangThai INT
)
INSERT INTO HoaDonChiTiet VALUES('001', '001', '001', 'Áo phao', 1, 'XL', 250000, 0)
INSERT INTO HoaDonChiTiet VALUES('002', '002', '001', 'Quần jogger', 1, 'XXL', 300000, 0)

CREATE TABLE DoiTra(
MaDoiTra VARCHAR(20) PRIMARY KEY,
MaSanPham VARCHAR(20) FOREIGN KEY REFERENCES SanPham(MaSanPham),
TenSP NVARCHAR(30), 
SoLuong INT,
LyDoDoiTra NVARCHAR(50)
)
INSERT INTO DoiTra VALUES('001', '001', 'Áo phao', 1, 'Không đúng kích cỡ')
INSERT INTO DoiTra VALUES('002', '002', 'Quần jegger', 1, 'Giao sai hàng')
